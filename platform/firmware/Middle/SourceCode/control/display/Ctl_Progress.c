/**
 * @file Ctl_Progress.c
 * @brief ANYKA software
 * This file is used to handle the progress bar
 * @author ZouMai
 * @date 2001-06-25
 * @version 1.0
 */

#include "Ctl_Progress.h"
#include "Fwl_pfDisplay.h"
#include "eng_debug.h"

static T_pRECT PgBar_GetLoca(T_RECT *rect, const T_PGBAR *bar, T_U16 cur);

#define PROGRESS_BAR_IMAGE_WIDTH    112
#define PROGRESS_BAR_IMAGE_HEIGHT   9
    
const unsigned char progress_bar_image[]=
{
0x42,0x4d,0x6,0xc,0x0,0x0,0x0,0x0,0x0,0x0,0x36,0x0,0x0,0x0,0x28,0x0,0x0,0x0,0x70,0x0,
0x0,0x0,0x9,0x0,0x0,0x0,0x1,0x0,0x18,0x0,0x0,0x0,0x0,0x0,0xd0,0xb,0x0,0x0,0xc4,0xe,
0x0,0x0,0xc4,0xe,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xff,0x73,0x0,0xff,0x73,0x0,
0xff,0x72,0x1,0xff,0x72,0x1,0xff,0x73,0x0,0xff,0x73,0x0,0xff,0x72,0x1,0xff,0x72,0x0,0xff,0x72,
0x0,0xff,0x73,0x1,0xff,0x72,0x0,0xff,0x72,0x0,0xff,0x73,0x1,0xff,0x72,0x0,0xff,0x72,0x1,0xff,
0x72,0x0,0xff,0x72,0x0,0xff,0x72,0x1,0xff,0x72,0x0,0xff,0x72,0x0,0xff,0x72,0x0,0xff,0x72,0x0,
0xff,0x72,0x0,0xff,0x72,0x0,0xff,0x72,0x0,0xff,0x72,0x0,0xff,0x72,0x1,0xff,0x73,0x1,0xff,0x73,
0x1,0xff,0x73,0x1,0xff,0x74,0x1,0xff,0x73,0x0,0xff,0x73,0x0,0xff,0x74,0x0,0xff,0x75,0x0,0xff,
0x76,0x0,0xff,0x77,0x0,0xff,0x78,0x0,0xff,0x79,0x0,0xff,0x7a,0x0,0xff,0x7c,0x0,0xff,0x7c,0x0,
0xff,0x7d,0x0,0xff,0x7e,0x1,0xff,0x7e,0x1,0xff,0x7f,0x1,0xff,0x7f,0x1,0xff,0x7f,0x1,0xff,0x7f,
0x1,0xff,0x7f,0x1,0xff,0x7f,0x1,0xff,0x7f,0x1,0xff,0x7f,0x1,0xff,0x7f,0x1,0xff,0x7e,0x1,0xff,
0x7e,0x1,0xff,0x7e,0x1,0xff,0x7d,0x0,0xff,0x7c,0x0,0xff,0x7c,0x0,0xff,0x7b,0x0,0xff,0x7a,0x0,
0xff,0x79,0x0,0xff,0x78,0x0,0xff,0x77,0x0,0xff,0x76,0x0,0xff,0x74,0x1,0xff,0x73,0x1,0xff,0x71,
0x1,0xff,0x70,0x1,0xff,0x6f,0x1,0xff,0x6d,0x1,0xff,0x6c,0x1,0xff,0x6a,0x1,0xff,0x69,0x1,0xff,
0x68,0x1,0xff,0x66,0x1,0xff,0x65,0x1,0xff,0x64,0x1,0xff,0x63,0x0,0xff,0x62,0x0,0xff,0x61,0x0,
0xff,0x60,0x0,0xff,0x5f,0x0,0xff,0x5f,0x0,0xff,0x5e,0x0,0xff,0x5d,0x0,0xff,0x5c,0x1,0xff,0x5c,
0x1,0xff,0x5c,0x1,0xff,0x5c,0x1,0xff,0x5b,0x1,0xff,0x5d,0x1,0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,
0x5c,0x0,0xff,0x5d,0x1,0xff,0x5d,0x1,0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,0x5c,0x0,
0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,0x5c,
0x0,0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,0x5c,0x0,0xff,0x66,0x0,0xff,0x66,0x0,0xff,0x65,0x0,0xff,
0x64,0x1,0xff,0x64,0x1,0xff,0x64,0x0,0xff,0x64,0x1,0xff,0x65,0x0,0xff,0x63,0x1,0xff,0x63,0x1,
0xff,0x65,0x0,0xff,0x65,0x0,0xff,0x65,0x0,0xff,0x64,0x1,0xff,0x65,0x0,0xff,0x64,0x1,0xff,0x65,
0x0,0xff,0x65,0x0,0xff,0x65,0x0,0xff,0x65,0x0,0xff,0x65,0x0,0xff,0x65,0x0,0xff,0x64,0x0,0xff,
0x64,0x0,0xff,0x64,0x1,0xff,0x64,0x1,0xff,0x64,0x1,0xff,0x65,0x0,0xff,0x65,0x0,0xff,0x64,0x0,
0xff,0x64,0x0,0xff,0x64,0x1,0xff,0x64,0x1,0xff,0x67,0x0,0xff,0x67,0x1,0xff,0x68,0x1,0xff,0x69,
0x1,0xff,0x6a,0x1,0xff,0x6c,0x1,0xff,0x6d,0x1,0xff,0x6e,0x1,0xff,0x6f,0x1,0xff,0x70,0x1,0xff,
0x70,0x0,0xff,0x70,0x0,0xff,0x71,0x0,0xff,0x71,0x0,0xff,0x71,0x0,0xff,0x71,0x0,0xff,0x71,0x0,
0xff,0x71,0x0,0xff,0x71,0x0,0xff,0x71,0x0,0xff,0x72,0x0,0xff,0x71,0x0,0xff,0x71,0x0,0xff,0x71,
0x0,0xff,0x70,0x0,0xff,0x70,0x0,0xff,0x6f,0x0,0xff,0x6e,0x0,0xff,0x6d,0x0,0xff,0x6c,0x0,0xff,
0x6b,0x0,0xff,0x6a,0x0,0xff,0x69,0x0,0xff,0x68,0x0,0xff,0x67,0x0,0xff,0x66,0x0,0xff,0x65,0x0,
0xff,0x63,0x0,0xff,0x62,0x0,0xff,0x60,0x0,0xff,0x5f,0x0,0xff,0x5d,0x0,0xff,0x5b,0x0,0xff,0x5a,
0x0,0xff,0x58,0x0,0xff,0x57,0x0,0xff,0x57,0x0,0xff,0x55,0x0,0xff,0x54,0x0,0xff,0x53,0x0,0xff,
0x52,0x0,0xff,0x51,0x0,0xff,0x50,0x0,0xff,0x50,0x0,0xff,0x4f,0x0,0xff,0x4f,0x0,0xff,0x4e,0x0,
0xff,0x4e,0x0,0xff,0x4e,0x0,0xff,0x4d,0x0,0xff,0x4d,0x1,0xff,0x4d,0x0,0xff,0x4d,0x0,0xff,0x4c,
0x1,0xff,0x4d,0x0,0xff,0x4e,0x0,0xff,0x4e,0x0,0xff,0x4d,0x0,0xff,0x4e,0x0,0xff,0x4e,0x0,0xff,
0x4e,0x0,0xff,0x4e,0x0,0xff,0x4e,0x0,0xff,0x4e,0x0,0xff,0x4d,0x1,0xff,0x4e,0x0,0xff,0x4e,0x0,
0xff,0x4e,0x0,0xff,0x4e,0x0,0xff,0x60,0x0,0xff,0x84,0x39,0xff,0x85,0x3b,0xff,0x85,0x3d,0xff,0x86,
0x3e,0xff,0x86,0x3e,0xff,0x86,0x3e,0xff,0x87,0x3e,0xff,0x87,0x3e,0xff,0x87,0x3e,0xff,0x87,0x3e,0xff,
0x87,0x3e,0xff,0x87,0x3e,0xff,0x86,0x3e,0xff,0x85,0x3e,0xff,0x87,0x3e,0xff,0x87,0x3e,0xff,0x87,0x3e,
0xff,0x87,0x3e,0xff,0x87,0x3e,0xff,0x87,0x3e,0xff,0x87,0x3e,0xff,0x86,0x3e,0xff,0x86,0x3e,0xff,0x86,
0x3e,0xff,0x86,0x3e,0xff,0x87,0x3e,0xff,0x87,0x3e,0xff,0x86,0x3e,0xff,0x86,0x3e,0xff,0x86,0x3e,0xff,
0x85,0x3e,0xff,0x86,0x3e,0xff,0x86,0x3e,0xff,0x88,0x3e,0xff,0x89,0x3e,0xff,0x8a,0x3e,0xff,0x8a,0x3e,
0xff,0x8c,0x3e,0xff,0x8d,0x3e,0xff,0x8e,0x3e,0xff,0x8f,0x3e,0xff,0x90,0x3e,0xff,0x90,0x3e,0xff,0x90,
0x3e,0xff,0x91,0x3e,0xff,0x91,0x3e,0xff,0x91,0x3e,0xff,0x91,0x3e,0xff,0x91,0x3e,0xff,0x91,0x3e,0xff,
0x91,0x3e,0xff,0x91,0x3e,0xff,0x91,0x3e,0xff,0x91,0x3e,0xff,0x91,0x3e,0xff,0x90,0x3e,0xff,0x90,0x3e,
0xff,0x90,0x3e,0xff,0x8f,0x3e,0xff,0x8f,0x3e,0xff,0x8e,0x3e,0xff,0x8e,0x3e,0xff,0x8d,0x3e,0xff,0x8c,
0x3e,0xff,0x8c,0x3e,0xff,0x8a,0x3e,0xff,0x89,0x3e,0xff,0x88,0x3e,0xff,0x87,0x3e,0xff,0x86,0x3e,0xff,
0x85,0x3e,0xff,0x84,0x3e,0xff,0x83,0x3e,0xff,0x83,0x3e,0xff,0x82,0x3e,0xff,0x81,0x3e,0xff,0x7f,0x3e,
0xff,0x7f,0x3e,0xff,0x7d,0x3e,0xff,0x7c,0x3e,0xff,0x7b,0x3e,0xff,0x7a,0x3e,0xff,0x79,0x3e,0xff,0x79,
0x3e,0xff,0x78,0x3e,0xff,0x77,0x3e,0xff,0x77,0x3e,0xff,0x76,0x3e,0xff,0x76,0x3e,0xff,0x76,0x3e,0xff,
0x75,0x3e,0xff,0x75,0x3e,0xff,0x74,0x3e,0xff,0x75,0x3e,0xff,0x74,0x3e,0xff,0x73,0x3e,0xff,0x75,0x3e,
0xff,0x74,0x3e,0xff,0x74,0x3e,0xff,0x74,0x3e,0xff,0x75,0x3e,0xff,0x74,0x3e,0xff,0x75,0x3e,0xff,0x74,
0x3e,0xff,0x75,0x3e,0xff,0x74,0x3d,0xff,0x73,0x3c,0xff,0x71,0x39,0xff,0x6e,0x35,0xff,0x68,0x2c,0xff,
0x49,0x0,0xff,0x67,0x0,0xff,0x97,0x53,0xff,0x9b,0x59,0xff,0x9c,0x5b,0xff,0x9d,0x5d,0xff,0x9d,0x5e,
0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,
0x5e,0xff,0x9d,0x5e,0xff,0x9d,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,
0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9d,0x5e,0xff,0x9d,0x5e,0xff,0x9d,0x5e,0xff,0x9d,0x5e,
0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9e,0x5e,0xff,0x9d,0x5e,0xff,0x9e,
0x5e,0xff,0x9e,0x5e,0xff,0x9f,0x5e,0xff,0xa0,0x5e,0xff,0xa1,0x5e,0xff,0xa2,0x5e,0xff,0xa2,0x5e,0xff,
0xa3,0x5e,0xff,0xa4,0x5e,0xff,0xa4,0x5e,0xff,0xa5,0x5e,0xff,0xa5,0x5e,0xff,0xa6,0x5e,0xff,0xa6,0x5e,
0xff,0xa6,0x5e,0xff,0xa6,0x5e,0xff,0xa6,0x5e,0xff,0xa6,0x5e,0xff,0xa6,0x5e,0xff,0xa6,0x5e,0xff,0xa6,
0x5e,0xff,0xa6,0x5e,0xff,0xa6,0x5e,0xff,0xa6,0x5e,0xff,0xa6,0x5e,0xff,0xa5,0x5e,0xff,0xa5,0x5e,0xff,
0xa5,0x5e,0xff,0xa5,0x5e,0xff,0xa4,0x5e,0xff,0xa4,0x5e,0xff,0xa4,0x5e,0xff,0xa3,0x5e,0xff,0xa2,0x5e,
0xff,0xa2,0x5e,0xff,0xa1,0x5e,0xff,0xa1,0x5e,0xff,0xa0,0x5e,0xff,0x9f,0x5e,0xff,0x9e,0x5e,0xff,0x9e,
0x5e,0xff,0x9d,0x5e,0xff,0x9c,0x5e,0xff,0x9b,0x5e,0xff,0x9a,0x5e,0xff,0x99,0x5e,0xff,0x98,0x5e,0xff,
0x97,0x5e,0xff,0x96,0x5e,0xff,0x95,0x5e,0xff,0x94,0x5e,0xff,0x94,0x5e,0xff,0x93,0x5e,0xff,0x92,0x5e,
0xff,0x92,0x5e,0xff,0x91,0x5e,0xff,0x91,0x5e,0xff,0x90,0x5e,0xff,0x90,0x5e,0xff,0x90,0x5e,0xff,0x90,
0x5e,0xff,0x8f,0x5e,0xff,0x90,0x5e,0xff,0x8f,0x5e,0xff,0x8f,0x5e,0xff,0x90,0x5e,0xff,0x8f,0x5e,0xff,
0x8f,0x5e,0xff,0x8f,0x5e,0xff,0x90,0x5e,0xff,0x90,0x5e,0xff,0x90,0x5e,0xff,0x90,0x5e,0xff,0x90,0x5e,
0xff,0x8f,0x5d,0xff,0x8d,0x5a,0xff,0x89,0x54,0xff,0x82,0x4a,0xff,0x78,0x3c,0xff,0x4f,0x0,0xff,0x6e,
0x0,0xff,0xac,0x6c,0xff,0xb1,0x75,0xff,0xb4,0x7c,0xff,0xb6,0x80,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,
0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,
0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,
0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,
0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb7,0x82,0xff,0xb8,0x82,
0xff,0xb8,0x82,0xff,0xb8,0x82,0xff,0xb9,0x82,0xff,0xba,0x82,0xff,0xba,0x82,0xff,0xbb,0x82,0xff,0xbb,
0x82,0xff,0xbc,0x82,0xff,0xbc,0x82,0xff,0xbc,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,
0xbd,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,
0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,0xbd,0x82,0xff,0xbc,0x82,0xff,0xbc,
0x82,0xff,0xbc,0x82,0xff,0xbc,0x82,0xff,0xbc,0x82,0xff,0xbb,0x82,0xff,0xbb,0x82,0xff,0xbb,0x82,0xff,
0xba,0x82,0xff,0xba,0x82,0xff,0xb9,0x82,0xff,0xb9,0x82,0xff,0xb8,0x82,0xff,0xb8,0x82,0xff,0xb7,0x82,
0xff,0xb7,0x82,0xff,0xb6,0x82,0xff,0xb5,0x82,0xff,0xb5,0x82,0xff,0xb4,0x82,0xff,0xb3,0x82,0xff,0xb2,
0x82,0xff,0xb2,0x82,0xff,0xb1,0x82,0xff,0xb0,0x82,0xff,0xb0,0x82,0xff,0xaf,0x82,0xff,0xaf,0x82,0xff,
0xae,0x82,0xff,0xae,0x82,0xff,0xae,0x82,0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xad,0x82,
0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xad,
0x82,0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xad,0x82,0xff,0xab,0x80,0xff,0xaa,0x7d,0xff,
0xa7,0x78,0xff,0xa0,0x6e,0xff,0x96,0x5f,0xff,0x86,0x47,0xff,0x58,0x0,0xff,0x77,0x0,0xff,0xba,0x7f,
0xff,0xc3,0x8e,0xff,0xc8,0x97,0xff,0xca,0x9c,0xff,0xcb,0xa0,0xff,0xcc,0xa1,0xff,0xcd,0xa2,0xff,0xcd,
0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,
0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,
0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,
0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xcd,0xa2,0xff,0xce,0xa2,0xff,0xce,0xa2,0xff,0xce,0xa2,0xff,
0xce,0xa2,0xff,0xcf,0xa2,0xff,0xcf,0xa2,0xff,0xcf,0xa2,0xff,0xd0,0xa2,0xff,0xd0,0xa2,0xff,0xd0,0xa2,
0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,
0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,
0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,0xff,0xd1,0xa2,
0xff,0xd0,0xa2,0xff,0xd0,0xa2,0xff,0xd0,0xa2,0xff,0xd0,0xa2,0xff,0xd0,0xa2,0xff,0xd0,0xa2,0xff,0xcf,
0xa2,0xff,0xcf,0xa2,0xff,0xcf,0xa2,0xff,0xce,0xa2,0xff,0xce,0xa2,0xff,0xce,0xa2,0xff,0xcd,0xa2,0xff,
0xcd,0xa2,0xff,0xcc,0xa2,0xff,0xcc,0xa2,0xff,0xcb,0xa2,0xff,0xcb,0xa2,0xff,0xca,0xa2,0xff,0xca,0xa2,
0xff,0xc9,0xa2,0xff,0xc9,0xa2,0xff,0xc8,0xa2,0xff,0xc8,0xa2,0xff,0xc8,0xa2,0xff,0xc7,0xa2,0xff,0xc7,
0xa2,0xff,0xc7,0xa2,0xff,0xc7,0xa2,0xff,0xc7,0xa2,0xff,0xc6,0xa2,0xff,0xc6,0xa2,0xff,0xc6,0xa2,0xff,
0xc6,0xa2,0xff,0xc6,0xa2,0xff,0xc6,0xa2,0xff,0xc6,0xa2,0xff,0xc6,0xa2,0xff,0xc6,0xa2,0xff,0xc6,0xa2,
0xff,0xc6,0xa2,0xff,0xc6,0xa2,0xff,0xc5,0xa1,0xff,0xc4,0x9f,0xff,0xc2,0x9b,0xff,0xbc,0x91,0xff,0xb3,
0x83,0xff,0xa3,0x6a,0xff,0x91,0x4d,0xff,0x63,0x0,0xff,0xa6,0x0,0xff,0xc6,0x5c,0xff,0xd2,0x7e,0xff,
0xdc,0x9a,0xff,0xe4,0xb3,0xff,0xe9,0xc3,0xff,0xed,0xd0,0xff,0xf0,0xd6,0xff,0xf1,0xd9,0xff,0xf3,0xdc,
0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,
0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,
0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,
0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,
0xdd,0xff,0xf3,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,
0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,
0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,
0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,
0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,0xff,0xf4,0xdd,
0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,0xdd,0xff,0xf3,
0xdd,0xff,0xf3,0xdd,0xff,0xf2,0xdd,0xff,0xf2,0xdd,0xff,0xf2,0xdd,0xff,0xf2,0xdd,0xff,0xf2,0xdd,0xff,
0xf2,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,
0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,
0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf1,0xdd,0xff,0xf0,0xdc,0xff,
0xef,0xd8,0xff,0xed,0xd2,0xff,0xe6,0xc6,0xff,0xde,0xb0,0xff,0xd1,0x90,0xff,0xc0,0x68,0xff,0xb0,0x40,
0xff,0xa0,0x1f,0xff,0x95,0x0,0xff,0xb4,0x0,0xff,0xc4,0x39,0xff,0xcd,0x56,0xff,0xd4,0x71,0xff,0xdc,
0x8a,0xff,0xe1,0x9e,0xff,0xe5,0xad,0xff,0xe8,0xb5,0xff,0xe9,0xb9,0xff,0xea,0xbd,0xff,0xeb,0xbf,0xff,
0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,
0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,
0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,
0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xec,0xbf,0xff,0xec,0xbf,
0xff,0xec,0xbf,0xff,0xec,0xbf,0xff,0xec,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,
0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,
0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,
0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,
0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xed,0xbf,0xff,0xec,0xbf,0xff,0xec,0xbf,0xff,
0xec,0xbf,0xff,0xec,0xbf,0xff,0xec,0xbf,0xff,0xec,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,0xff,0xeb,0xbf,
0xff,0xeb,0xbf,0xff,0xea,0xbf,0xff,0xea,0xbf,0xff,0xea,0xbf,0xff,0xea,0xbf,0xff,0xe9,0xbf,0xff,0xe9,
0xbf,0xff,0xe9,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,
0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,
0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe8,0xbf,0xff,0xe7,0xbd,0xff,0xe5,0xb8,0xff,0xe2,
0xb1,0xff,0xdd,0xa2,0xff,0xd5,0x8a,0xff,0xc9,0x6b,0xff,0xbd,0x46,0xff,0xb2,0x26,0xff,0xaa,0x10,0xff,
0xa4,0x0,0xff,0x9f,0x2a,0xff,0xc7,0x1a,0xff,0xcb,0x2d,0xff,0xcf,0x3f,0xff,0xd4,0x52,0xff,0xd8,0x62,
0xff,0xdc,0x6d,0xff,0xde,0x76,0xff,0xde,0x7a,0xff,0xde,0x7d,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,
0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,
0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,
0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xdf,
0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,0xe0,0x7e,0xff,0xe0,0x7e,0xff,0xe0,0x7e,0xff,0xe1,0x7e,0xff,
0xe1,0x7e,0xff,0xe1,0x7e,0xff,0xe1,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,
0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,
0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,
0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe2,0x7e,
0xff,0xe2,0x7e,0xff,0xe2,0x7e,0xff,0xe1,0x7e,0xff,0xe1,0x7e,0xff,0xe1,0x7e,0xff,0xe1,0x7e,0xff,0xe1,
0x7e,0xff,0xe0,0x7e,0xff,0xe0,0x7e,0xff,0xe0,0x7e,0xff,0xe0,0x7e,0xff,0xdf,0x7e,0xff,0xdf,0x7e,0xff,
0xde,0x7e,0xff,0xde,0x7e,0xff,0xdd,0x7e,0xff,0xdd,0x7e,0xff,0xdc,0x7e,0xff,0xdc,0x7e,0xff,0xdb,0x7e,
0xff,0xdb,0x7e,0xff,0xda,0x7e,0xff,0xda,0x7e,0xff,0xda,0x7e,0xff,0xda,0x7e,0xff,0xda,0x7e,0xff,0xda,
0x7e,0xff,0xd9,0x7e,0xff,0xd9,0x7e,0xff,0xd9,0x7e,0xff,0xd9,0x7e,0xff,0xd9,0x7e,0xff,0xd9,0x7e,0xff,
0xd9,0x7e,0xff,0xd9,0x7e,0xff,0xd9,0x7e,0xff,0xd8,0x7c,0xff,0xd8,0x79,0xff,0xd6,0x71,0xff,0xd2,0x66,
0xff,0xcd,0x55,0xff,0xc6,0x3c,0xff,0xbf,0x25,0xff,0xb9,0x12,0xff,0xb5,0x5,0xff,0x95,0x2a
};

/**
 * @brief Initialize T_PGBAR structure
 * 
 * @author @b ZouMai
 * 
 * @author 
 * @date 2002-11-01
 * @param T_PGBAR *bar: scroll bar sturcture
 * @param  T_POS left: progress bar location
 * @param  T_POS top: progress bar location
 * @param  T_LEN width: progress bar location
 * @param  T_LEN height: progress bar location
 * @param  T_S16 intvl: interval of the progress bar
 * @param  T_U16 mode: be PGBAR_PILE_OFF or PGBAR_PILE_ON, PGBAR_DIR_L2R or PGBAR_DIR_R2L or PGBAR_DIR_U2D or PGBAR_DIR_D2U
 * @return T_VOID 
 * @retval 
 */
T_VOID PgBar_Init(T_PGBAR *bar, T_POS left, T_POS top, T_LEN width, T_LEN height, T_S16 intvl, T_U16 mode)
{
    AK_ASSERT_PTR_VOID(bar, "PgBar_Init(): bar");
    AK_ASSERT_VAL_VOID(width <= Fwl_GetLcdWidth(), "PgBar_Init(): width");
    AK_ASSERT_VAL_VOID(height <= Fwl_GetLcdHeight(), "PgBar_Init(): height");

    bar->initFlag = INITIALIZED_FLAG;

    bar->pileMode   = (T_U16)(mode & 0x0001);
    bar->dirMode    = (T_U16)(mode & 0x00F0);
    bar->styleMode  = (T_U16)(mode & 0x0F00);

    PgBar_SetLoc(bar, left, top, width, height);
    bar->Intvl  = intvl;

    if (bar->styleMode == PGBAR_STYLE_1)
        bar->Side = 2;
    else if (bar->styleMode == PGBAR_STYLE_2)
        bar->Side = 0;
    bar->Drag   = 0;
    bar->DragOffset = 0;

    bar->frColor = g_Graph.ScBar_FrCL;
    bar->bkColor = g_Graph.ScBar_BkCL;
    bar->fmColor = g_Graph.WinFrCL[DISPLAY_LCD_0];

    bar->CurValue = 0;
    bar->TtlValue = 0;

    return;
}

/**
 * @brief Set the location of the rectangle
 * 
 * @author @b ZouMai
 * 
 * @author 
 * @date 2002-11-01
 * @param T_PGBAR *bar
 * @param  T_POS left
 * @param  T_POS top
 * @param  T_LEN width
 * @param  T_LEN height
 * @return T_VOID
 * @retval 
 */
T_VOID PgBar_SetLoc(T_PGBAR *bar, T_POS left, T_POS top, T_LEN width, T_LEN height)
{
    AK_ASSERT_PTR_VOID(bar, "PgBar_SetLoc(): bar");
    AK_ASSERT_VAL_VOID(bar->initFlag == INITIALIZED_FLAG, "pgBar not initialized"); /* check bar contorl has been initialized or not */
    AK_ASSERT_VAL_VOID(width <= Fwl_GetLcdWidth(), "PgBar_SetLoc(): width");

    bar->Left   = left;
    bar->Top    = top;
    bar->Width  = width;
    bar->Height = top + height > Fwl_GetLcdHeight() ? Fwl_GetLcdHeight() - top : height;

    return;
}

/**
 * @brief Set scroll bar current value and total value
 * 
 * @author @b ZouMai
 * 
 * @author 
 * @date 2002-11-01
 * @param T_PGBAR *bar: scroll bar sturcture
 * @param  T_U16 cur: current value of scroll bar
 * @param  T_U16 total: total value of scroll bar
 * @param  T_U16 factor: factor number will scroll page
 * @return T_VOID
 * @retval 
 */
T_VOID PgBar_SetValue(T_PGBAR *bar, T_U16 cur, T_U16 total)
{
    AK_ASSERT_PTR_VOID(bar, "PgBar_SetValue(): bar");
    AK_ASSERT_VAL_VOID(bar->initFlag == INITIALIZED_FLAG, "pgBar not initialized"); /* check bar contorl has been initialized or not */

    bar->TtlValue = total;
    PgBar_SetCurValue(bar, cur);
    
    return;
}

/**
 * @brief Set the current value of the scroll bar 
 * 
 * @author @b ZouMai
 * 
 * @author 
 * @date 2002-11-01
 * @param T_PGBAR *bar
 * @param  T_S16 cur
 * @return T_VOID
 * @retval 
 */
T_VOID PgBar_SetCurValue(T_PGBAR *bar, T_S16 cur)
{
    AK_ASSERT_PTR_VOID(bar, "PgBar_SetCurValue(): bar");
    AK_ASSERT_VAL_VOID(bar->initFlag == INITIALIZED_FLAG, "pgBar not initialized"); /* check bar contorl has been initialized or not */

    if (cur < 0)
        bar->CurValue = 0;
    else if (cur > bar->TtlValue)
        bar->CurValue = bar->TtlValue;
    else
        bar->CurValue = cur;

    return;
}

/**
 * @brief Set the color of the scroll bar
 * 
 * @author @b ZouMai
 * 
 * @author 
 * @date 2002-11-01
 * @param T_PGBAR *bar
 * @param  T_COLOR frcolor
 * @param  T_COLOR bkcolor
 * @param  T_COLOR fmcolor
 * @return T_VOID
 * @retval 
 */
T_VOID PgBar_SetColor(T_PGBAR *bar, T_COLOR frcolor, T_COLOR bkcolor, T_COLOR fmcolor)
{
    AK_ASSERT_PTR_VOID(bar, "PgBar_SetColor(): bar");
    AK_ASSERT_VAL_VOID(bar->initFlag == INITIALIZED_FLAG, "pgBar not initialized"); /* check bar contorl has been initialized or not */

    bar->frColor = frcolor;
    bar->bkColor = bkcolor;
    bar->fmColor = fmcolor;

    return;
}

/**
 * @brief Show the Scroll bar
 * 
 * @author @b ZouMai
 * 
 * @author 
 * @date 2002-11-01
 * @param T_PGBAR *bar
 * @return T_VOID
 * @retval 
 */
T_VOID PgBar_Show(T_PGBAR *bar)
{
    T_RECT  rect;
    T_S16   i;
//  T_LEN   TriaHei, TriaTop;

    AK_ASSERT_PTR_VOID(bar, "PgBar_SetColor(): bar");
    AK_ASSERT_VAL_VOID(bar->initFlag == INITIALIZED_FLAG, "pgBar not initialized"); /* check bar contorl has been initialized or not */

    if (bar->Width == 0 || bar->Height == 0 || bar->TtlValue <= 1)
        return;

    if (bar->dirMode == PGBAR_DIR_U2D || bar->dirMode == PGBAR_DIR_D2U)
    {
        if (bar->Intvl > 0 && (bar->Height + bar->Intvl) / bar->TtlValue <= bar->Intvl)
        {
            bar->Intvl = 0;
        }
    }
    else
    {
        if (bar->Intvl > 0 && (bar->Width + bar->Intvl) / bar->TtlValue <= bar->Intvl)
        {
            bar->Intvl = 0;
        }
    }

#if 0
    if (bar->dirMode == PGBAR_DIR_U2D || bar->dirMode == PGBAR_DIR_D2U) /* vertical */
    {
        Fwl_Draw3DRect(DISPLAY_LCD_0, bar->Left, bar->Top, bar->Width, bar->Side, 1);
        Fwl_FillSolidRect(HRGB_LAYER, bar->Left+1, bar->Top+1, bar->Width-2, bar->Side-2, bar->frColor);

        Fwl_Draw3DRect(DISPLAY_LCD_0, bar->Left, bar->Top+bar->Height-bar->Side, bar->Width, bar->Side, 1);
        Fwl_FillSolidRect(HRGB_LAYER, bar->Left+1, bar->Top+bar->Height-bar->Side+1, bar->Width-2, bar->Side-2, bar->frColor);

//      TriaHei = (bar->Width-4)/2;
//      TriaHei = TriaHei >= bar->Side ? bar->Side : TriaHei;
//      TriaTop = (bar->Side - TriaHei) / 2;
//      Fwl_FillSolidTria(DISPLAY_LCD_0, bar->Left+2, bar->Top+TriaTop, bar->Width-4, TriaHei, 1, bar->fmColor);
//      Fwl_FillSolidTria(DISPLAY_LCD_0, bar->Left+2, bar->Top+bar->Height-TriaHei-TriaTop, bar->Width-4, TriaHei, 0, bar->fmColor);
    }
    else
    {
        Fwl_Draw3DRect(DISPLAY_LCD_0, bar->Left, bar->Top, bar->Side, bar->Height, 1);
        Fwl_FillSolidRect(HRGB_LAYER, bar->Left+1, bar->Top+1, bar->Side-2, bar->Height-2, bar->frColor);

        Fwl_Draw3DRect(DISPLAY_LCD_0, bar->Left+bar->Width-bar->Side, bar->Top, bar->Side, bar->Height, 1);
        Fwl_FillSolidRect(HRGB_LAYER, bar->Left+bar->Width-bar->Side+1, bar->Top+1, bar->Side-2, bar->Height-2, bar->frColor);

//      TriaHei = (bar->Height-4)/2;
//      TriaHei = TriaHei >= bar->Side ? bar->Side : TriaHei;
//      TriaTop = (bar->Side - TriaHei) / 2;
//      Fwl_FillSolidTria(DISPLAY_LCD_0, bar->Left+TriaTop, bar->Top+2, TriaHei, bar->Height-4, 3, bar->fmColor);
//      Fwl_FillSolidTria(DISPLAY_LCD_0, bar->Left+bar->Width-TriaHei-TriaTop, bar->Top+2, TriaHei, bar->Height-4, 2, bar->fmColor);
    }
#endif

    /* draw frame or background */
    if (bar->styleMode == PGBAR_STYLE_1)
    {
        Fwl_FillSolidRect(HRGB_LAYER, (T_POS)(bar->Left+1), (T_POS)(bar->Top+1), (T_LEN)(bar->Width-2), (T_LEN)(bar->Height-2), bar->bkColor);
        Fwl_DrawRect(HRGB_LAYER, bar->Left, bar->Top, bar->Width, bar->Height, bar->fmColor);
        //Fwl_DialogFrame(HRGB_LAYER, bar->Left, bar->Top, bar->Width, bar->Height, 0x0F);
    }
    else if (bar->styleMode == PGBAR_STYLE_2)
    {
        if (bar->Intvl >= 0)
        {
            for (i = 1; i <= bar->TtlValue; i++)
            {
                PgBar_GetLoca(&rect, bar, (T_U16)i);
                Fwl_DrawRect(HRGB_LAYER, rect.left, rect.top, rect.width, rect.height, bar->frColor);
                Fwl_FillSolidRect(HRGB_LAYER, (T_POS)(rect.left+1), (T_POS)(rect.top+1), (T_LEN)(rect.width-2), (T_LEN)(rect.height-2), bar->bkColor);
            }
        }
    }

    if (bar->Intvl < 0 || bar->pileMode == PGBAR_PILE_OFF)
    {
        //PgBar_GetLoca(&rect, bar, (T_U16)i);
        //Fwl_Draw3DRect(DISPLAY_LCD_0, rect.left, rect.top, rect.width, rect.height, 1);
        //Fwl_FillSolidRect(HRGB_LAYER, (T_POS)(rect.left+1), (T_POS)(rect.top+1), (T_LEN)(rect.width-2), (T_LEN)(rect.height-2), bar->frColor);
        /*for (i = 1; i <= bar->CurValue; i++)
        {
            PgBar_GetLoca(&rect, bar, (T_U16)i);
            Fwl_FillSolidRect(HRGB_LAYER, (T_POS)(rect.left), (T_POS)(rect.top), (T_LEN)(rect.width), (T_LEN)(rect.height), bar->frColor);
        }*/
        T_U16   i, j;
        T_COLOR clr;

        rect.left = bar->Left+1;
        rect.top = bar->Top+1;
        rect.height = bar->Height-2;
        rect.width = (bar->Width-2)*bar->CurValue/bar->TtlValue;
        for(i = 0; i < rect.height; i++)
            for(j=0; j< rect.width; j++)
            {
                T_U8    *pixel;
                pixel = (T_U8*)progress_bar_image+54+((PROGRESS_BAR_IMAGE_HEIGHT-i*PROGRESS_BAR_IMAGE_HEIGHT/rect.height-1)*PROGRESS_BAR_IMAGE_WIDTH+j*PROGRESS_BAR_IMAGE_WIDTH/(bar->Width-2))*3;
                
                clr = RGB2AkColor(pixel[2], pixel[1], pixel[0], LCD0_COLOR);
                Fwl_SetPixel(HRGB_LAYER, (T_POS)(j+rect.left), (T_POS)(i+rect.top), clr);
            }
    }
    else
    {
        for (i = 1; i <= bar->CurValue; i++)
        {
            PgBar_GetLoca(&rect, bar, (T_U16)i);
            Fwl_Draw3DRect(HRGB_LAYER, rect.left, rect.top, rect.width, rect.height, 1);
            Fwl_FillSolidRect(HRGB_LAYER, (T_POS)(rect.left+1), (T_POS)(rect.top+1), (T_LEN)(rect.width-2), (T_LEN)(rect.height-2), bar->frColor);
        }
    }
    return;
}

/*---------------------------------------------------------------------------
                        STATIC function definition

  All the following functions can only be used in current source file.
---------------------------------------------------------------------------*/
/**
 * @brief Get the position of the scroll bar
 * 
 * @author @b ZouMai
 * 
 * @author 
 * @date 2002-11-01
 * @param T_PGBAR *bar
 * @param  T_RECT *rect
 * @param  T_U16 cVal
 * @return T_pRECT
 * @retval 
 */
static T_pRECT PgBar_GetLoca(T_RECT *rect, const T_PGBAR *bar, T_U16 cVal)
{
    T_U16   total;
    T_POS   x0;
    T_POS   y0;
    T_LEN   width;
    T_LEN   height;

    AK_ASSERT_PTR(bar, "PgBar_GetLoca(): bar", AK_NULL);
    AK_ASSERT_PTR(rect, "PgBar_GetLoca(): rect", AK_NULL);
    AK_ASSERT_VAL(bar->initFlag == INITIALIZED_FLAG, "pgBar not initialized", AK_NULL); /* check bar contorl has been initialized or not */

    x0 = bar->Left;
    total = bar->TtlValue;
    y0 = bar->Top;
    width = bar->Width;
    height = bar->Height;
    if (cVal == 0)
    {
        rect->left = 0;
        rect->top = 0;
        rect->width = 0;
        rect->height = 0;
        return rect;
    }
    cVal--;
    x0 += bar->Side;
    y0 += bar->Side;
    width -= bar->Side*2;
    height -= bar->Side*2;

    switch (bar->dirMode) {
    case PGBAR_DIR_R2L:         /* direction: Right --> Left */
//      x0 += bar->Side;
//      width -= bar->Side*2;
        rect->left = x0 + (width + bar->Intvl) * (total-cVal-1) / total;
        rect->top = y0;
        if (bar->Intvl < 0 && bar->pileMode == PGBAR_PILE_ON)
            rect->width = bar->Left + bar->Width - bar->Side - rect->left;
        else
            rect->width = (width + bar->Intvl) * (total-cVal) / total - (width + bar->Intvl) * (total-cVal-1) / total - bar->Intvl;
        rect->height = height;
        break;
    case PGBAR_DIR_D2U:         /* direction: Down --> Up */
//      y0 += bar->Side;
//      height -= bar->Side*2;
        rect->left = x0;
        rect->top = y0 + (height + bar->Intvl) * (total-cVal-1) / total;
        rect->width = width;
        if (bar->Intvl < 0 && bar->pileMode == PGBAR_PILE_ON)
            rect->height = bar->Top + bar->Height - bar->Side - rect->top;
        else
            rect->height = (height + bar->Intvl) * (total-cVal) / total - (height + bar->Intvl) * (total-cVal-1) / total- bar->Intvl;
        break;
    case PGBAR_DIR_U2D:         /* direction: Up --> Down */
//      y0 += bar->Side;
//      height -= bar->Side*2;
        rect->left = x0;
        rect->top = y0 + (height + bar->Intvl) * cVal / total;
        rect->width = width;
        rect->height = (height + bar->Intvl) * (cVal+1) / total -(height + bar->Intvl) * cVal / total- bar->Intvl;
        if (bar->Intvl < 0 && bar->pileMode == PGBAR_PILE_ON)
        {
            rect->height = rect->top + rect->height - y0;
            rect->top = y0;
        }
        break;
    default:        /* direction: Left --> Right */
//      x0 += bar->Side;
//      width -= bar->Side*2;
        rect->left = x0 + (width + bar->Intvl) * cVal / total;
        rect->top = y0;
        rect->width = (width + bar->Intvl) * (cVal+1) / total - (width + bar->Intvl) * cVal / total - bar->Intvl;
        rect->height = height;
        if (bar->Intvl < 0 && bar->pileMode == PGBAR_PILE_ON)
        {
            rect->width = rect->left + rect->width - x0;
            rect->left = x0;
        }
        break;
    }

    return rect;
}
